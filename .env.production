# .env.production
# Dinari Blockchain Production Environment Configuration
# SECURITY: Never commit this file with actual values to version control

# ============================================
# NETWORK CONFIGURATION
# ============================================
DINARI_NETWORK_ID=1                    # Mainnet=1, Testnet=2, Devnet=3
DINARI_CHAIN_ID=1001                   # Unique chain identifier
DINARI_GENESIS_FILE=/etc/dinari/genesis.json
DINARI_BLOCK_TIME=15s
DINARI_MAX_BLOCK_SIZE=2097152          # 2MB
DINARI_MAX_TX_PER_BLOCK=5000
DINARI_DIFFICULTY_TARGET=0x1d00ffff
DINARI_HALVING_INTERVAL=210000
DINARI_INITIAL_REWARD=5000000000       # 50 DNT
DINARI_MINIMUM_FEE=1000
DINARI_FORK_HEIGHT=0                   # Set when planning hard fork
DINARI_CHECKPOINT_INTERVAL=1000

# ============================================
# NODE CONFIGURATION
# ============================================
DINARI_DATA_DIR=/var/lib/dinari
DINARI_LOG_LEVEL=info                  # debug, info, warn, error
DINARI_LOG_FILE=/var/log/dinari/node.log
DINARI_LOG_MAX_SIZE=100                # MB
DINARI_LOG_MAX_BACKUPS=10
DINARI_LOG_COMPRESS=true
DINARI_CPU_PROFILE=
DINARI_MEM_PROFILE=
DINARI_PROFILE_PORT=6060
DINARI_METRICS_ENABLED=true
DINARI_METRICS_PORT=9090
DINARI_MAX_PEERS=125
DINARI_PRUNE_BLOCKS_AFTER=100000
DINARI_ARCHIVE_MODE=false              # Set true for archive nodes

# Bootstrap nodes (comma-separated multiaddrs)
DINARI_BOOTSTRAP_NODES=/ip4/seed1.dinari.network/tcp/9000/p2p/QmBootstrap1,/ip4/seed2.dinari.network/tcp/9000/p2p/QmBootstrap2

# Trusted peers (comma-separated peer IDs)
DINARI_TRUSTED_PEERS=QmTrusted1,QmTrusted2,QmTrusted3

# ============================================
# P2P NETWORK CONFIGURATION
# ============================================
DINARI_P2P_LISTEN_ADDR=/ip4/0.0.0.0/tcp/9000
DINARI_P2P_EXTERNAL_ADDR=              # Set to public IP/domain
DINARI_P2P_NAT_TRAVERSAL=true
DINARI_P2P_ENABLE_RELAY=true
DINARI_P2P_ENABLE_DHT=true
DINARI_P2P_DHT_MODE=server             # server, client, auto
DINARI_P2P_PEER_EXCHANGE=true
DINARI_P2P_CONN_TIMEOUT=30s
DINARI_P2P_HANDSHAKE_TIMEOUT=20s
DINARI_P2P_MAX_MSG_SIZE=10485760       # 10MB
DINARI_P2P_SEND_QUEUE=100
DINARI_P2P_RECV_QUEUE=100

# ============================================
# RPC SERVER CONFIGURATION
# ============================================
DINARI_RPC_ENABLED=true
DINARI_RPC_LISTEN_ADDR=0.0.0.0:8545
DINARI_RPC_TLS_ENABLED=true
DINARI_RPC_TLS_CERT=/etc/dinari/certs/server.crt
DINARI_RPC_TLS_KEY=/etc/dinari/certs/server.key
DINARI_RPC_MAX_CONN=100
DINARI_RPC_READ_TIMEOUT=30s
DINARI_RPC_WRITE_TIMEOUT=30s
DINARI_RPC_IDLE_TIMEOUT=120s
DINARI_RPC_MAX_REQ_SIZE=10485760       # 10MB
DINARI_RPC_RATE_LIMIT=true
DINARI_RPC_RATE_LIMIT_MIN=100
DINARI_RPC_CORS_ORIGINS=https://app.dinariblockchain.network,https://explorer.dinariblockchain.network
DINARI_RPC_CORS_METHODS=GET,POST,OPTIONS
DINARI_RPC_AUTH_ENABLED=true
DINARI_RPC_API_KEYS=                   # Comma-separated API keys

# ============================================
# MINER CONFIGURATION
# ============================================
DINARI_MINER_ENABLED=false             # Set true to enable mining
DINARI_MINER_ADDRESS=                  # Your DT1... address
DINARI_MINER_WORKERS=4                 # Number of mining threads
DINARI_MINER_EXTRA_DATA=               # Extra data in mined blocks
DINARI_MINER_GAS_FLOOR=30000000
DINARI_MINER_GAS_CEIL=60000000
DINARI_MINER_GAS_PRICE=1000000000
DINARI_MINER_AUTO_DAG=true

# ============================================
# MEMPOOL CONFIGURATION
# ============================================
DINARI_MEMPOOL_MAX_SIZE=10000
DINARI_MEMPOOL_MAX_TX_SIZE=32768       # 32KB
DINARI_MEMPOOL_MIN_FEE_RATE=1
DINARI_MEMPOOL_MAX_ORPHANS=1000
DINARI_MEMPOOL_ORPHAN_TTL=15m
DINARI_MEMPOOL_REBROADCAST=10m
DINARI_MEMPOOL_EXPIRE=72h
DINARI_MEMPOOL_RBF=true                # Replace-by-fee

# ============================================
# DATABASE CONFIGURATION
# ============================================
DINARI_DB_TYPE=badger                  # badger or leveldb
DINARI_DB_PATH=/var/lib/dinari/blockchain
DINARI_DB_IN_MEMORY=false
DINARI_DB_MAX_OPEN_FILES=10000
DINARI_DB_VALUE_LOG_SIZE=1073741824    # 1GB
DINARI_DB_VALUE_LOG_ENTRIES=1000000
DINARI_DB_NUM_COMPACTORS=4
DINARI_DB_COMPACT_ON_CLOSE=true
DINARI_DB_KEEP_L0_MEM=true
DINARI_DB_VERIFY_CHECKSUM=true
DINARI_DB_COMPRESSION=snappy           # snappy, zstd, none
DINARI_DB_ENCRYPTION_KEY=              # 32-byte hex key for encryption
DINARI_DB_BACKUP_INTERVAL=24h
DINARI_DB_BACKUP_PATH=/var/backups/dinari
DINARI_DB_MAX_BACKUPS=7

# ============================================
# SECURITY CONFIGURATION
# ============================================
DINARI_SEC_TLS_ENABLED=true
DINARI_SEC_TLS_MIN_VERSION=TLS1.3
DINARI_SEC_TLS_CIPHERS=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
DINARI_SEC_FIREWALL=true
DINARI_SEC_BLACKLIST_IPS=              # Comma-separated IPs to block
DINARI_SEC_WHITELIST_IPS=              # Comma-separated IPs to allow
DINARI_SEC_MAX_REQ_PER_IP=1000
DINARI_SEC_BAN_DURATION=24h
DINARI_SEC_DDOS_PROTECT=true
DINARI_SEC_JWT_SECRET=                 # 64-byte hex secret for JWT
DINARI_SEC_API_RATE_LIMIT=100

# ============================================
# MONITORING & ALERTING
# ============================================
DINARI_PROMETHEUS_ENDPOINT=http://prometheus:9090
DINARI_GRAFANA_ENDPOINT=http://grafana:3000
DINARI_ALERT_WEBHOOK=                  # Slack/Discord webhook URL
DINARI_ALERT_EMAIL=ops@dinari.com
DINARI_SENTRY_DSN=                     # Sentry error tracking DSN
DINARI_JAEGER_ENDPOINT=                # Jaeger tracing endpoint

# ============================================
# VALIDATOR CONFIGURATION (Future)
# ============================================
DINARI_VALIDATOR_ENABLED=false
DINARI_VALIDATOR_KEY_FILE=/etc/dinari/validator.key
DINARI_VALIDATOR_COMMISSION=5          # Percentage
DINARI_VALIDATOR_MIN_STAKE=1000000     # Minimum stake required

# ============================================
# AFC TOKEN CONFIGURATION
# ============================================
DINARI_AFC_MINT_ADDRESS=               # Authorized AFC minting address
DINARI_AFC_MAX_SUPPLY=1000000000000    # Max AFC supply
DINARI_AFC_MINT_RATE_LIMIT=1000000     # Max AFC per block

# ============================================
# BACKUP & RECOVERY
# ============================================
DINARI_BACKUP_ENABLED=true
DINARI_BACKUP_S3_BUCKET=dinari-backups
DINARI_BACKUP_S3_REGION=us-east-1
DINARI_AWS_ACCESS_KEY_ID=
DINARI_AWS_SECRET_ACCESS_KEY=
DINARI_BACKUP_ENCRYPTION_KEY=          # Backup encryption key

# ============================================
# EXTERNAL SERVICES
# ============================================
DINARI_REDIS_URL=redis://localhost:6379/0
DINARI_POSTGRES_URL=postgres://user:pass@localhost/dinari
DINARI_KAFKA_BROKERS=localhost:9092
DINARI_ELASTICSEARCH_URL=http://localhost:9200

# ============================================
# FEATURE FLAGS
# ============================================
DINARI_FEATURE_SMART_CONTRACTS=false   # Enable when ready
DINARI_FEATURE_ATOMIC_SWAPS=false      # Enable atomic swaps
DINARI_FEATURE_PRIVACY_TX=false        # Enable privacy transactions
DINARI_FEATURE_MULTI_SIG=true          # Enable multi-signature

# ============================================
# DEPLOYMENT CONFIGURATION
# ============================================
DINARI_ENV=production                  # production, staging, development
DINARI_DEPLOYMENT_ID=                  # Unique deployment identifier
DINARI_CLUSTER_NAME=mainnet-cluster
DINARI_REGION=us-east-1
DINARI_AVAILABILITY_ZONE=us-east-1a